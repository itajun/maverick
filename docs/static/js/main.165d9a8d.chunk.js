(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10489:function(t,e,r){"use strict";r.r(e);var n=r(3),o=r.n(n),i=r(108),a=r.n(i),c=(r(143),r(19)),u=r(20),l=r(36),s=r(11),f=r(76),h=r(10554),p=r(10571),d=r(10572),y=r(10557),v=r(10542),m=r(10543),g=r(97),w=r.n(g),x=r(10556),b=r(10535),E=r(10569),L=r(10546),O=r(10559),j=r(10570),k=r(10549),_=r(10544),S=r(16),N=r(10540),G=r(10541),F=r(77),T=r(78),I=r(10551),P=r(112);function C(){C=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return n("throw",t,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=p,c(m,"constructor",p),c(p,"constructor",h),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(m),c(m,a,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var A=/^(\d{4}-\d{2}-\d{2}.\d{2}:\d{2}:\d{2}.\d{3} .\d{4}) \[.*?] \d*? ([A-Z]+?) .*? - (.*)/,D=/^\[(\d{4}-\d{2}-\d{2}.\d{2}:\d{2}:\d{2}).\d{3}]\[\w{4}.]\[.*?].*?].(.*)/,R=/^.*?(\d{4}-\d{2}-\d{2}.\d{2}:\d{2}:\d{2}).*?(DEBUG|WARN|INFO|ERROR)(.*)/,z=/^\s*?at \w+\.?\$?.+:\d+\).*/,U=function(){function t(e,r,n,o,i){var a=this,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1e4;Object(F.a)(this,t),this.matchesNewEntry=function(t){if(a.matcher)return t.match(a.matcher);var e=t.match(A);return e?(a.matcher=A,a.matcherName="format-nuix"):(e=t.match(D))?(a.matcher=D,a.matcherName="format-es"):(e=t.match(R))&&(a.matcher=R,a.matcherName="format-generic"),a.matcherName&&console.info("Detected format: "+a.matcherName),e},this.handleOnLoad=function(t){return Object(c.a)(C().mark(function e(){var r,n,o,i,c,u,l,s,f,h,p,d;return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=a.fileGuid,n=a.fileName,o=t.result.split("\n"),u=0;case 5:if(!(u<o.length)){e.next=41;break}if(!a.cancelled){e.next=9;break}return console.warn("Process cancelled"),e.abrupt("break",41);case 9:if(l=o[u],s="".concat(r,"-").concat(u),f={fileguid:r,filename:n,type:"line",linenumber:u+1},h=a.matchesNewEntry(l),p=h&&h.length>0,d=null,!p){e.next=23;break}i=h[1],c=h[2],d=h[3]?h[3].trim():h[3],a.updateCurrentEntryAndStartNew(),a.entryFlags.push(a.matcherName),e.next=26;break;case 23:if(i){e.next=26;break}return console.warn("Skipping leading invalid log entry: "+u+" - "+l),e.abrupt("continue",38);case 26:if(f.timestamp=new Date(i).toISOString(),f.loglevel=c,f.content=d||l,f.rawline=l,a.entryContent.push(d||l),a.entryDocIds.push(s),l.match(z)&&!a.entryFlags.includes("stacktrace")&&a.entryFlags.push("stacktrace"),a.addIndexOperation(s,f),a.currentBatch.length!==a.esBatchSize){e.next=37;break}return e.next=37,a.flush();case 37:a.reportProgress(100*u/o.length);case 38:u++,e.next=5;break;case 41:a.updateCurrentEntryAndStartNew();case 42:return e.prev=42,e.next=45,a.flush();case 45:return a.reportProgress(100),e.finish(42);case 47:case"end":return e.stop()}},e,null,[[0,,42,47]])}))},this.indexName=r,this.file=n,this.progressCallback=o,this.completionCallback=i,this.progress=0,this.cancelled=!1,this.esStore=e,this.esBatchSize=u,this.currentBatch=[],this.fileGuid=Object(I.a)(),this.fileName=n.name,this.entryGuid=null,this.entryDocIds=[],this.entryContent=[],this.entryFlags=[],this.matcher=null,this.logEntriesAdded=0}return Object(T.a)(t,[{key:"process",value:function(){if(!this.processCalled){this.processCalled=!0,console.debug("Processing ".concat(this.file.name," with size ").concat(this.file.size));var t=new FileReader;t.onload=this.handleOnLoad(t),t.readAsText(this.file)}}},{key:"flush",value:function(){var t=Object(c.a)(C().mark(function t(){return C().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.currentBatch.length){t.next=2;break}return t.abrupt("return");case 2:return console.debug("Flushing: "+this.currentBatch.length),t.next=5,this.esStore.postToIndex(this.indexName,this.currentBatch);case 5:return t.next=7,new Promise(function(t){return setTimeout(t,5)});case 7:this.currentBatch=[];case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"updateCurrentEntryAndStartNew",value:function(){var t=this;if(0!==this.entryDocIds.length){var e=Object(P.MD5)(this.entryContent.join("\n")).toString();this.logEntriesAdded++,this.entryDocIds.forEach(function(r){t.addUpdateOperation(r,{doc:{entryfirstline:t.logEntriesAdded,entrymd5:e,flags:t.entryFlags}})}),this.entryDocIds=[],this.entryContent=[],this.entryFlags=[]}}},{key:"addIndexOperation",value:function(t,e){this.currentBatch.push(JSON.stringify({index:{_index:this.indexName,_id:t}}),JSON.stringify(e))}},{key:"addUpdateOperation",value:function(t,e){this.currentBatch.push(JSON.stringify({update:{_index:this.indexName,_id:t}}),JSON.stringify(e))}},{key:"reportProgress",value:function(t){this.progress=t,this.progressCallback&&this.progressCallback(t),100===t&&this.completionCallback&&this.completionCallback(this)}},{key:"cancel",value:function(){this.cancelled=!0}}]),t}(),Y=r(10555),B=r(10550);function M(){M=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return n("throw",t,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=p,c(m,"constructor",p),c(p,"constructor",h),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(m),c(m,a,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var q=function(t){var e=t.files,r=t.selectedFiles,i=t.toggleFile,a=t.renameFile,c=Object(n.useState)(),u=Object(s.a)(c,2),l=u[0],f=u[1],p=Object(n.useRef)(),d=function(t){return function(){f(t)}};return Object(n.useEffect)(function(){p.current&&(p.current.focus(),p.current.select())}),o.a.createElement(h.a,{id:"root-file-list",sx:{display:"flex",flexDirection:"column",flex:1,overflowY:"scroll"}},o.a.createElement(Y.a,null,e&&e.map(function(t){var e,n=Object(s.a)(t,2),c=n[0],u=n[1];return o.a.createElement(B.a,{key:u,sx:{p:0}},o.a.createElement(k.a,{checked:r.length>0&&r.includes(u),onChange:function(){return i(u)},size:"small"}),l===u&&o.a.createElement(L.a,{defaultValue:c,onBlur:(e=u,function(t){a(e,t.target.value),f(null)}),inputRef:p}),l!==u&&o.a.createElement(y.a,{sx:{cursor:"pointer"},onClick:d(u)},c))})))},W=function(){var t=Object(n.useContext)(Ft),e=t.esStore,r=t.esIndex,i=t.selectedFiles,a=t.toggleFile,u=Object(n.useState)([]),l=Object(s.a)(u,2),f=l[0],h=l[1],p=function(){var t=Object(c.a)(M().mark(function t(){var n;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.doesIndexExist(r);case 2:if(t.t0=t.sent,!t.t0){t.next=7;break}return t.next=6,e.search(r,{query:{match_all:{}},aggs:{files:{multi_terms:{terms:[{field:"filename.keyword"},{field:"fileguid"}],size:100}}},size:0});case 6:t.t0=t.sent;case 7:n=t.t0,h(n?n.aggregations.files.buckets.map(function(t){return t.key}):[]);case 9:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),d=function(){var t=Object(c.a)(M().mark(function t(n,o){var i;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&o&&0!==o.length){t.next=3;break}return console.warn("Will not rename because either guid or name are empty"),t.abrupt("return");case 3:return i={script:{source:"ctx._source.filename = '".concat(o,"'"),lang:"painless"},query:{term:{fileguid:n}}},t.next=6,e.updateByQuery(r,i);case 6:p();case 7:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}();return Object(n.useEffect)(function(){p()},[i,r]),o.a.createElement(q,{files:f,selectedFiles:i,toggleFile:a,renameFile:d})},J=r(10553),H=r(115),V=r.n(H),Q=function(t){var e=t.processor,r=t.children,o=Object(n.useState)(0),i=Object(s.a)(o,2),a=i[0],c=i[1];return Object(n.useEffect)(function(){return e.progressCallback=c,e.process(),function(){e.cancel()}},[]),r(e.file.name,a)},Z=r(10558),K=function(t){var e=t.fileName,r=t.progress;return o.a.createElement(J.a,{sx:{padding:1,margin:1}},o.a.createElement(y.a,{fontSize:12,overflow:"hidden",textOverflow:"ellipsis"},e),o.a.createElement(Z.a,{variant:"determinate",value:r}))};function $(){$=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return n("throw",t,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=p,c(m,"constructor",p),c(p,"constructor",h),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(m),c(m,a,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var X=function(t){var e=t.dropHandler,r=t.processors;return o.a.createElement(o.a.Fragment,null,o.a.createElement(J.a,{id:"drop_zone",onDrop:e,onDragOver:function(t){return t.preventDefault()},sx:{padding:2,margin:1}},o.a.createElement("p",null,"Drop Zone")),r.map(function(t,e){return o.a.createElement(Q,{key:"tracker".concat(e),processor:t},function(t,e){return o.a.createElement(K,{fileName:t,progress:e})})}))},tt=function(t){var e=t.processorFactory,r=t.processorCompleted,i=Object(n.useState)([]),a=Object(s.a)(i,2),l=a[0],f=a[1],h=function(t){console.debug("Processor completed: "+t.fileName),f(function(t){return t.filter(function(t){return t.progress<100})}),r&&r(t)},p=function(){var t=Object(c.a)($().mark(function t(r){var n,o;return $().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],(o=e(r)).completionCallback=h,n.push(o),f(function(t){return[].concat(Object(u.a)(t),n)});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(c.a)($().mark(function t(e){var r;return $().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=e.name).endsWith("log")){t.next=4;break}return p(e),t.abrupt("return");case 4:r.endsWith("zip")&&V.a.loadAsync(e).then(function(t){t.forEach(function(t,e){t.endsWith(".log")||t.endsWith(".zip")?e.async("blob").then(function(e){d(new File([e],t.replaceAll("/","_").replaceAll("\\","_")))}):console.debug("Skipped ".concat(t,"/").concat(e.name))})},function(t){console.error(t)}),console.error("Skipping unsupported file type"+r);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(c.a)($().mark(function t(e){var r,n;return $().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),e.dataTransfer.items)for(r=0;r<e.dataTransfer.items.length;r++)"file"===e.dataTransfer.items[r].kind&&d(e.dataTransfer.items[r].getAsFile());else for(n=0;n<e.dataTransfer.files.length;n++)d(e.dataTransfer.files[n]);case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return o.a.createElement(X,{processors:l,dropHandler:y})},et=r(10539),rt=r(10548);function nt(){nt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return n("throw",t,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=p,c(m,"constructor",p),c(p,"constructor",h),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(m),c(m,a,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var ot=function(){var t=Object(n.useContext)(Ft),e=t.esStore,r=t.esIndex,i=t.setSelectedIndex,a=o.a.useState([]),u=Object(s.a)(a,2),l=u[0],f=u[1],h=Object(et.a)(),p=function(){var t=Object(c.a)(nt().mark(function t(){var r;return nt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getIndices();case 2:r=t.sent,f(r.map(function(t){return{title:t.index}}));case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)(function(){p()},[]),o.a.createElement(rt.a,{value:r,onChange:function(t,e){var r=e&&(e.inputValue||e.title||e);i(r)},filterOptions:function(t,e){var r=h(t,e),n=e.inputValue,o=t.some(function(t){return n===t.title});return""===n||o||r.push({inputValue:n,title:'Add "'.concat(n,'"')}),r},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,options:l,getOptionLabel:function(t){return"string"===typeof t?t:t.inputValue?t.inputValue:t.title},renderOption:function(t,e){return o.a.createElement("li",t,e.title)},sx:{m:1,mt:2},freeSolo:!0,renderInput:function(t){return o.a.createElement(L.a,Object.assign({},t,{label:"Index name"}))}})},it=function(){var t=Object(n.useContext)(Ft),e=t.esStore,r=t.esIndex,i=t.toggleFile,a=t.drawerOpen,c=t.toggleDrawer;return o.a.createElement(h.a,{id:"root-drawer",sx:{display:"flex",flexDirection:"column",flex:1,minWidth:a?"280px":0,maxWidth:300}},o.a.createElement(h.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",m:"5px"}},o.a.createElement(O.a,{onClick:c},a?o.a.createElement(N.a,null):o.a.createElement(G.a,null))),a&&o.a.createElement(h.a,{sx:{display:"flex",flexDirection:"column",flex:1,minHeight:"100px"}},o.a.createElement(ot,null),o.a.createElement(tt,{processorFactory:function(t){return new U(e,r,t)},processorCompleted:function(t){return i(t.fileGuid)}}),o.a.createElement(W,null)))},at=r(35),ct=r(55),ut=r(10560),lt=r(10561),st=r(10562),ft=r(10563),ht=r(10564),pt=r(10565),dt=r(10566),yt=r(10567),vt=r(10568);function mt(){mt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return n("throw",t,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=p,c(m,"constructor",p),c(p,"constructor",h),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(m),c(m,a,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var gt=function(t){var e=t.searchText,r=void 0===e?"":e,i=t.fileGuid,a=t.lineNumber,u=void 0===a?0:a,f=Object(n.useContext)(Ft),p=f.esStore,d=f.esIndex,y=Object(n.useState)([]),v=Object(s.a)(y,2),m=v[0],g=v[1],w=function(){var t=Object(c.a)(mt().mark(function t(){var e;return mt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.search(d,{query:{query_string:{query:"fileguid: ".concat(i," && linenumber:[").concat(u-5," TO ").concat(u+245,"]")}},_source:["linenumber","rawline"],sort:[{fileguid:{order:"asc"}},{linenumber:{order:"asc"}}],highlight:{highlight_query:{simple_query_string:{query:r,fields:["rawline"]}},fields:{rawline:{number_of_fragments:0}}},size:250});case 2:e=t.sent,g(e.hits.hits.map(function(t){var e=t._source.rawline.match(/^(\s+)/),r=e?e[0]:null;return t.highlight?Object(l.a)({},t._source,{rawline:r+t.highlight.rawline[0]}):t._source}));case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)(function(){w()},[i,u,r]),o.a.createElement(h.a,{sx:{"& em":{background:"darkcyan"},"& pre":{display:"inline"}}},o.a.createElement("pre",{style:{fontSize:"0.75em"}},m.map(function(t){return function(t){var e=t.rawline.split(/<.?em>/),r=t.rawline.startsWith("<em>"),a=[];return e.forEach(function(e,n){r&&n%2===0?a.push(o.a.createElement("em",{key:"".concat(t.linenumber,"-").concat(n)},e)):n%2===1?a.push(o.a.createElement("em",{key:"".concat(t.linenumber,"-").concat(n)},e)):a.push(o.a.createElement("pre",{key:"".concat(t.linenumber,"-").concat(n)},e))}),t.linenumber===u?o.a.createElement("span",{style:{background:"lightslategray"},key:"".concat(i,"-").concat(t.linenumber)},a,o.a.createElement("br",null)):o.a.createElement(n.Fragment,{key:"".concat(i,"-").concat(t.linenumber)},a,o.a.createElement("br",null))}(t)})))};function wt(){wt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return n("throw",t,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=p,c(m,"constructor",p),c(p,"constructor",h),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(m),c(m,a,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var xt=function(){var t=Object(n.useContext)(Ft),e=t.esStore,r=t.esIndex,i=t.selectedFiles,a=Object(n.useState)(!0),u=Object(s.a)(a,2),f=u[0],p=u[1],d=Object(n.useState)(),v=Object(s.a)(d,2),m=v[0],g=v[1],w=Object(n.useState)(!1),x=Object(s.a)(w,2),b=x[0],E=x[1],O=Object(n.useState)(!1),j=Object(s.a)(O,2),_=j[0],S=j[1],N=Object(n.useState)(!1),G=Object(s.a)(N,2),F=G[0],T=G[1],I=Object(n.useState)(),P=Object(s.a)(I,2),C=P[0],A=P[1],D=Object(n.useState)([]),R=Object(s.a)(D,2),z=R[0],U=R[1],Y=Object(n.useState)(),B=Object(s.a)(Y,2),M=B[0],q=B[1],W=Object(at.a)();Object(n.useEffect)(function(){Q()},[_,F,m,i,r]);var H=function(t){var e=[],r=[];if(F&&e.push({term:{flags:"stacktrace"}}),i&&i.length>0){var n=i.map(function(t){return{term:{fileguid:{value:t}}}});e.push({bool:{should:n}})}return m&&m.length>0&&(b?r.push({query_string:{query:m,default_field:"content"}}):r.push({simple_query_string:{query:m,fields:["content"]}})),{query:{bool:{filter:e,must:r}},_source:["fileguid","filename","entryfirstline","linenumber","timestamp","loglevel","content","flags"],sort:[{fileguid:{order:"asc"}},{linenumber:{order:"asc"}}],aggs:t||{},size:1e3}},V=function(){var t=Object(c.a)(wt().mark(function t(){var n,o;return wt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!_){t.next=6;break}return t.next=3,e.search(r,H({md5:{terms:{field:"entrymd5",size:1e3},aggs:{first_doc:{top_hits:{_source:{includes:["fileguid","filename","entryfirstline","linenumber","timestamp","loglevel","content","flags"]},size:1}}}}}));case 3:n=t.sent,t.next=9;break;case 6:return t.next=8,e.search(r,H());case 8:n=t.sent;case 9:n.aggregations?(o=function(t){var e=t.first_doc.hits.hits[0]._source;return Object(l.a)({},e,{doc_count:t.doc_count})},U(n.aggregations.md5.buckets.map(function(t){return o(t)}))):n.hits&&n.hits?U(n.hits.hits.map(function(t){return t._source})):U([]),p(!1),q(null);case 12:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),Q=function(){var t=Object(c.a)(wt().mark(function t(){return wt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:p(!0),V();case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),Z=function(t,e){return function(){q(t)}},K=function(t){return M&&t.fileguid===M.fileguid&&t.linenumber===M.linenumber},$=function(t){return M&&t.fileguid===M.fileguid&&t.entryfirstline===M.entryfirstline};return o.a.createElement(h.a,{id:"entry-finder-root",sx:{display:"flex",flexDirection:"column",width:0,flex:1,p:"10px"}},f&&o.a.createElement(h.a,{sx:{zIndex:2e3,position:"absolute",right:"50%",top:"20px",width:"25px",height:"25px"}},o.a.createElement(ut.a,{sx:{color:"white"},size:"1rem"})),o.a.createElement(h.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"}},o.a.createElement(L.a,{label:"Search...",type:"search",sx:{flex:1,p:"0 5px 0"},onChange:function(t){return e=t.target.value,C&&clearTimeout(C),A(setTimeout(function(){return g(e)},500)),void p(!0);var e},autoComplete:"off"}),o.a.createElement(lt.a,{title:"Advanced"},o.a.createElement(k.a,{icon:o.a.createElement(ct.AdminPanelSettingsOutlined,null),checkedIcon:o.a.createElement(ct.AdminPanelSettings,null),checked:b,onChange:function(t){return E(t.target.checked)},sx:{height:"fit-content"}})),o.a.createElement(lt.a,{title:"Deduplicate"},o.a.createElement(k.a,{icon:o.a.createElement(ct.ContentCopyOutlined,null),checkedIcon:o.a.createElement(ct.ContentCopy,null),checked:_,onChange:function(t){return S(t.target.checked)},sx:{height:"fit-content"}})),o.a.createElement(lt.a,{title:"Stacktrace only"},o.a.createElement(k.a,{icon:o.a.createElement(ct.TableRowsOutlined,null),checkedIcon:o.a.createElement(ct.TableRows,null),checked:F,onChange:function(t){return T(t.target.checked)},sx:{height:"fit-content"}}))),o.a.createElement(J.a,{id:"root-table",sx:{display:"flex",flexDirection:"column",p:"5px",m:"10px 0",height:"400px",flex:1}},!f&&0===z.length&&o.a.createElement(y.a,null,"Nothing to see here..."),z.length>0&&o.a.createElement(st.a,{id:"root-table-container",component:J.a,sx:{maxHeight:M?"30%":null}},o.a.createElement(ft.a,{size:"small"},o.a.createElement(ht.a,null,o.a.createElement(pt.a,null,o.a.createElement(dt.a,{style:{border:0}},o.a.createElement(y.a,null,z.length>=1e3?"1000+":z.length," ","results")))),o.a.createElement(yt.a,{sx:{"& td":{padding:"2px"},"& pre":{padding:0,margin:0,fontSize:"0.75em"}}},z.map(function(t,e){return o.a.createElement(pt.a,{key:"".concat(t.fileguid,"-").concat(t.linenumber),sx:{"& td, & th":{backgroundColor:K(t)?W.palette.grey[500]:$(t)?W.palette.grey[400]:null}},onClick:Z(t)},o.a.createElement(dt.a,null,o.a.createElement("pre",null,t.timestamp)),o.a.createElement(dt.a,null,o.a.createElement("pre",null,t.loglevel)),o.a.createElement(dt.a,{sx:{width:"100%"}},o.a.createElement("pre",null,t.content)))})))),o.a.createElement(vt.a,{sx:{m:"5px 0"}}),M&&o.a.createElement(h.a,{sx:{flex:1,width:"100%",overflow:"scroll",p:"5px",lineHeight:1}},o.a.createElement(gt,{searchText:m,fileGuid:M.fileguid,lineNumber:M.linenumber}))))};function bt(){bt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return n("throw",t,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=p,c(m,"constructor",p),c(p,"constructor",h),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(m),c(m,a,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Et=function(){return o.a.createElement(h.a,{id:"main-root",component:"div",sx:{display:"flex",flex:1,pt:"65px"}},o.a.createElement(h.a,{sx:{display:"flex"}},o.a.createElement(it,null)),o.a.createElement(h.a,{id:"xpto",sx:{display:"flex",flex:1}},o.a.createElement(xt,null)))},Lt=function(){var t=Object(n.useContext)(Ft),e=t.esStore,r=t.esURL,i=t.testESConnection,a=t.esConnected,u=t.themeMode,l=t.toggleThemeMode,f=Object(n.useState)(r||""),p=Object(s.a)(f,2),d=p[0],y=p[1],m=Object(n.useState)("mvk-*"),g=Object(s.a)(m,2),w=g[0],_=g[1],S=function(){var t=Object(c.a)(bt().mark(function t(){return bt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.deleteIndices(w);case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return o.a.createElement(h.a,{id:"preferences-root",component:"div",sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",pt:"65px",flex:1}},o.a.createElement(x.a,{sx:{m:3},component:"fieldset",variant:"standard",style:{padding:"25px 0",width:450}},o.a.createElement(b.a,{component:"legend"},"Elasticsearch settings"),o.a.createElement(E.a,null,o.a.createElement(L.a,{label:"URL",error:!a,helperText:"Enter a valid ES URL (last valid: ".concat(r||"-",")"),value:d,onChange:function(t){var e=t.target.value;i(e),y(e)}}),o.a.createElement(h.a,{sx:{display:"flex",mt:"15px"}},o.a.createElement(L.a,{label:"Remove these indices",helperText:"No confirmation. We're adults.",value:w,onChange:function(t){return _(t.target.value)},sx:{flex:1}}),o.a.createElement(O.a,{onClick:S,sx:{height:"fit-content",m:"10px 0 0 5px"},disabled:!a},o.a.createElement(v.a,null))))),o.a.createElement(x.a,{sx:{m:3},component:"fieldset",variant:"standard",style:{padding:"5px 0",width:450}},o.a.createElement(b.a,{component:"legend"},"Other stuff"),o.a.createElement(E.a,null,o.a.createElement(j.a,{control:o.a.createElement(k.a,{checked:"dark"===u,onChange:l,name:"themeMode"}),label:"Dark Theme"}))))},Ot=function(){var t=Object(S.f)();return o.a.createElement(O.a,{onClick:function(){return t("/preferences")}},o.a.createElement(w.a,null))},jt=function(){var t=Object(S.f)();return o.a.createElement(O.a,{onClick:function(){return t("/")}},o.a.createElement(m.a,null))},kt=function(){var t=Object(S.f)(),e=Object(n.useContext)(Ft),r=e.esConnected,i=e.esURL;return Object(n.useEffect)(function(){i||t("/preferences")},[i]),o.a.createElement(h.a,{id:"layout-root",sx:{display:"flex",height:"inherit",width:"inherit"}},o.a.createElement(_.a,null),o.a.createElement(p.a,null,o.a.createElement(d.a,null,o.a.createElement(jt,null),o.a.createElement(y.a,{variant:"h6",noWrap:!0,component:"div",href:"/",sx:{mr:2,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none",ml:2,width:"100%"}},"LOGUEI"),o.a.createElement(Ot,null))),o.a.createElement(S.c,null,o.a.createElement(S.a,{path:"/preferences",element:o.a.createElement(Lt,null)}),o.a.createElement(S.a,{path:"/",element:r?o.a.createElement(Et,null):o.a.createElement(y.a,{sx:{display:"flex",flex:1,justifyContent:"center",alignItems:"center"}},"ES not connected")})))};function _t(){_t=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return n("throw",t,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=p,c(m,"constructor",p),c(p,"constructor",h),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(m),c(m,a,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var St=r(116),Nt=r(10552);function Gt(){Gt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return n("throw",t,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=p,c(m,"constructor",p),c(p,"constructor",h),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(m),c(m,a,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Ft=o.a.createContext({}),Tt=function(){var t=Object(n.useState)({esIndex:"mvk-default",selectedFiles:[],esURL:localStorage.getItem("esURL"),esConnected:!1,themeMode:localStorage.getItem("themeMode")?localStorage.getItem("themeMode"):"light",drawerOpen:!0}),e=Object(s.a)(t,2),r=e[0],i=e[1],a=function(t){var e={"Content-Type":"application/json"},r=function(t){return t.startsWith("mvk-")?t:"mvk-"+t},n=function(){var r=Object(c.a)(_t().mark(function r(){var n;return _t().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("".concat(t,"/_cat/indices/").concat("mvk-","*?s=index:asc&format=json"),{method:"GET",headers:e});case 2:if(!(n=r.sent).ok){r.next=5;break}return r.abrupt("return",n.json());case 5:return console.error(n),r.abrupt("return",[]);case 7:case"end":return r.stop()}},r)}));return function(){return r.apply(this,arguments)}}(),o=function(){var n=Object(c.a)(_t().mark(function n(o,i){var a;return _t().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=r(o),n.next=3,fetch("".concat(t,"/").concat(o,"/_search"),{method:"POST",headers:e,body:JSON.stringify(i)});case 3:if(!(a=n.sent).ok){n.next=6;break}return n.abrupt("return",a.json());case 6:return console.error(a),n.abrupt("return",{});case 8:case"end":return n.stop()}},n)}));return function(t,e){return n.apply(this,arguments)}}(),i=function(){var n=Object(c.a)(_t().mark(function n(o){var i;return _t().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=r(o),n.next=3,fetch("".concat(t,"/").concat(o),{method:"PUT",headers:e,body:'\n                {\n                    "settings": {\n                        "analysis": {\n                        "analyzer": {\n                            "default": {\n                            "type": "simple"\n                            }\n                        }\n                        }\n                    },\n                    "mappings": {\n                      "properties": {\n                        "type": { "type": "keyword" },\n                        "parentguid": { "type": "keyword" },\n                        "fileguid": { "type": "keyword" },\n                        "filename": { \n                            "type": "text",\n                            "fields": {\n                                "keyword": { \n                                    "type": "keyword"\n                                }\n                            }\n                        },\n                        "linenumber": { "type": "long" },\n                        "entryfirstline": { "type": "long" },\n                        "entrymd5": { "type": "keyword" },\n                        "timestamp": { "type": "date"},\n                        "loglevel": { "type": "keyword"},\n                        "content": { "type": "text" },\n                        "rawline": { "type": "text" },\n                        "flags": {"type": "keyword" }\n                      }\n                    }\n                  }\n                '});case 3:(i=n.sent).ok||console.error(i);case 5:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),a=function(){var n=Object(c.a)(_t().mark(function n(o){var i;return _t().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=r(o),n.next=3,fetch("".concat(t,"/_cat/indices/").concat(o),{method:"GET",headers:e});case 3:return i=n.sent,n.abrupt("return",i.ok);case 5:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),u=function(){var n=Object(c.a)(_t().mark(function n(o,c){var u,l,s;return _t().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=r(o),n.next=3,a(o);case 3:if(n.sent){n.next=6;break}return n.next=6,i(o);case 6:if(Array.isArray(c)){n.next=12;break}return n.next=9,fetch("".concat(t,"/").concat(o,"/_doc?refresh=wait_for"),{method:"POST",headers:e,body:c});case 9:u=n.sent,n.next=16;break;case 12:return l=c.join("\n")+"\n",n.next=15,fetch("".concat(t,"/").concat(o,"/_bulk?refresh=wait_for"),{method:"POST",headers:e,body:l});case 15:u=n.sent;case 16:if(u&&u.ok){n.next=20;break}console.error(u),n.next=24;break;case 20:return n.next=22,u.json();case 22:(s=n.sent).errors&&console.error(s);case 24:case"end":return n.stop()}},n)}));return function(t,e){return n.apply(this,arguments)}}();return{createAndConfigureIndex:i,doesIndexExist:a,postToIndex:u,search:o,getIndices:n,canConnect:function(){var t=Object(c.a)(_t().mark(function t(r){var n;return _t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(r,"/_cat/health"),{method:"GET",headers:e});case 3:return n=t.sent,t.abrupt("return",n.ok);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",!1);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),deleteIndices:function(){var n=Object(c.a)(_t().mark(function n(o){var i;return _t().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=r(o),n.next=3,fetch("".concat(t,"/_cat/indices/").concat(o,"*?s=index:asc&format=json"),{method:"GET",headers:e});case 3:return i=n.sent,n.next=6,i.json();case 6:n.sent.forEach(function(r){console.warn("Deleting: "+r.index),fetch("".concat(t,"/").concat(r.index),{method:"DELETE",headers:e})});case 7:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),updateByQuery:function(){var n=Object(c.a)(_t().mark(function n(o,i){var a;return _t().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=r(o),n.next=3,fetch("".concat(t,"/").concat(o,"/_update_by_query?refresh=true"),{method:"POST",headers:e,body:JSON.stringify(i)});case 3:return a=n.sent,n.abrupt("return",a.ok);case 5:case"end":return n.stop()}},n)}));return function(t,e){return n.apply(this,arguments)}}()}}(r.esURL),h=Object(St.a)({palette:{mode:r.themeMode}},[r.themeMode]),p=function(t){var e;try{e=new URL(t)}catch(r){return!1}return"http:"===e.protocol||"https:"===e.protocol},d=function(){var t=Object(c.a)(Gt().mark(function t(e){return Gt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!p(e)){t.next=13;break}return t.next=3,a.canConnect(e);case 3:if(!t.sent){t.next=9;break}i(Object(l.a)({},r,{esURL:e,esConnected:!0})),localStorage.setItem("esURL",e),console.debug("Connected to ES at: "+e),t.next=11;break;case 9:console.warn("Unable to connect to: "+e),i(Object(l.a)({},r,{esConnected:!1}));case 11:t.next=14;break;case 13:console.debug("Invalid URL: "+e);case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)(function(){d(r.esURL)},[]),o.a.createElement(Ft.Provider,{value:{esStore:a,esIndex:r.esIndex,setSelectedIndex:function(t){t&&i(Object(l.a)({},r,{esIndex:t}))},selectedFiles:r.selectedFiles,toggleFile:function(t){i(function(e){var n=e.selectedFiles;return n=n.includes(t)?n.filter(function(e){return e!==t}):[].concat(Object(u.a)(n),[t]),Object(l.a)({},r,{selectedFiles:n})})},esURL:r.esURL,testESConnection:d,esConnected:r.esConnected,themeMode:r.themeMode,toggleThemeMode:function(){i(function(t){var e="light"===t.themeMode?"dark":"light";return localStorage.setItem("themeMode",e),Object(l.a)({},r,{themeMode:e})})},drawerOpen:r.drawerOpen,toggleDrawer:function(){i(function(t){return Object(l.a)({},r,{drawerOpen:!t.drawerOpen})})}}},o.a.createElement(Nt.a,{theme:h},o.a.createElement(f.a,null,o.a.createElement(kt,null))))},It=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,10573)).then(function(e){var r=e.getCLS,n=e.getFID,o=e.getFCP,i=e.getLCP,a=e.getTTFB;r(t),n(t),o(t),i(t),a(t)})};a.a.createRoot(document.getElementById("root")).render(o.a.createElement(Tt,null)),It()},137:function(t,e,r){t.exports=r(10489)},143:function(t,e,r){},144:function(t,e){}},[[137,1,2]]]);
//# sourceMappingURL=main.165d9a8d.chunk.js.map